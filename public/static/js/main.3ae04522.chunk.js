(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(10),u=t.n(c),s=t(3),i=t(20),o=t(4),l=t(2),f=t.n(l),m=t(6),b=(t(26),{buildNewBoard:function(e){return p.apply(this,arguments)},makeId:k,_save:d,_load:O,updateCell:function(e){return h.apply(this,arguments)},placeMines:function(e){return j.apply(this,arguments)},openAround:g,showBombs:function(e){return C.apply(this,arguments)}});function d(e,n){return localStorage.setItem(e,JSON.stringify(n)),Promise.resolve(n)}function O(e){var n=JSON.parse(localStorage.getItem(e));return Promise.resolve(n)}function p(){return(p=Object(m.a)(f.a.mark((function e(n){var t,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],r=0;r<n;r++)for(t.push([]),a=0;a<n;a++)t[r][a]={_id:k(),mineInCell:!1,flagInCell:!1,cellClicked:!1,minesAround:-1,row:r,column:a,cellContents:""};return e.next=4,d("gameBoard",t);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(m.a)(f.a.mark((function e(n){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("gameBoard");case 2:return(t=e.sent)[n.row].splice(n.column,1,n),e.next=6,d("gameBoard",t);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(m.a)(f.a.mark((function e(n){var t,r,a,c,u,s,i,o,l,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.size,r=n.numMines,a=n.row,c=n.column,u=0,e.next=4,O("gameBoard");case 4:s=e.sent;case 5:if(!(u<r)){e.next=30;break}i=0;case 7:if(!(i<t)){e.next=28;break}o=0;case 9:if(!(o<t)){e.next=25;break}if(u!==r){e.next=12;break}return e.abrupt("break",25);case 12:if(i!==a||o!==c){e.next=15;break}return e.abrupt("continue",22);case 15:if(!s[i][o].mineInCell){e.next=20;break}return e.abrupt("continue",22);case 20:Math.random()<r/(t*t)&&(s[i][o].mineInCell=!0,u++);case 21:case 22:o++,e.next=9;break;case 25:i++,e.next=7;break;case 28:e.next=5;break;case 30:for(l=0;l<t;l++)for(m=0;m<t;m++)s[l][m].minesAround=v(s,t,l,m);return e.next=33,d("gameBoard",s);case 33:return e.abrupt("return",s);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,n,t,r){for(var a=0,c=t-1;c<t+2;c++)for(var u=r-1;u<r+2;u++)c<0||u<0||c>=n||u>=n||c===t&&u===r||e[c][u].mineInCell&&a++;return a}function g(e){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(f.a.mark((function e(n){var t,r,a,c,u,s,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.row,r=n.column,e.next=4,O("gameBoard");case 4:a=e.sent,c=a.length,u=t-1;case 7:if(!(u<t+2)){e.next=29;break}s=r-1;case 9:if(!(s<r+2)){e.next=26;break}return e.next=12,O("gameBoard");case 12:if(i=e.sent,!(u<0||s<0||u>=c||s>=c||!0===i[u][s].cellClicked||!0===i[u][s].flagInCell)){e.next=15;break}return e.abrupt("continue",23);case 15:return i[u][s].cellClicked=!0,i[u][s].minesAround>0?i[u][s].cellContents="".concat(i[u][s].minesAround):i[u][s].cellContents="",e.next=19,d("gameBoard",i);case 19:if(0!==i[u][s].minesAround){e.next=23;break}return i[u][s].cellContents="",e.next=23,g(i[u][s]);case 23:s++,e.next=9;break;case 26:u++,e.next=7;break;case 29:return e.next=31,O("gameBoard");case 31:return o=e.sent,e.abrupt("return",o);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(m.a)(f.a.mark((function e(n){var t,r,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("gameBoard");case 2:return t=e.sent,e.next=5,O("boardSize");case 5:r=e.sent,a=0;case 7:if(!(a<r)){e.next=27;break}c=0;case 9:if(!(c<r)){e.next=24;break}if(!(t[a][c].cellClicked||a===n.row&&c===n.column)){e.next=14;break}return e.abrupt("continue",21);case 14:if(t[a][c].cellClicked=!0,!t[a][c].flagInCell){e.next=20;break}return t[a][c].cellContents="\ud83d\udea9",e.abrupt("continue",21);case 20:t[a][c].mineInCell?t[a][c].cellContents="\ud83d\udca3":t[a][c].minesAround>0?t[a][c].cellContents=t[a][c].minesAround:t[a][c].cellContents="";case 21:c++,e.next=9;break;case 24:a++,e.next=7;break;case 27:return e.next=29,d("gameBoard",t);case 29:return e.abrupt("return",t);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}function w(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.buildNewBoard(e);case 2:r=n.sent,t({type:"UPDATE_BOARD",gameBoard:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function y(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.updateCell(e);case 2:r=n.sent,t({type:"UPDATE_BOARD",gameBoard:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function E(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("boardSize",e);case 2:t({type:"CHANGE_SIZE",boardSize:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function N(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("numOfMines",e);case 2:t({type:"CHANGE_MINES",numOfMines:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function A(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("gameOn",e);case 2:t({type:"CHANGE_GAME_ON",order:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function S(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("gameOver",e);case 2:t({type:"CHANGE_GAME_OVER",order:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function B(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("lives",e);case 2:t({type:"CHANGE_LIVES",num:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function I(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("smiley",e);case 2:t({type:"CHANGE_SMILEY",order:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function G(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("numOfFlags",e);case 2:t({type:"CHANGE_FLAGS",order:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function _(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("time",e);case 2:t({type:"CHANGE_TIME",payload:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var M=t(5),T=t(1);function z(){return Object(T.jsx)("div",{className:"main-game-headline",children:Object(T.jsx)("h1",{children:"\ud83d\udca3MINESEEKER\ud83d\udca3"})})}var D=t(9),F=t(18),H=t.n(F);var L={updateCell:y,changeBoardSize:E,buildNewBoard:w,changeGameOn:A,changeGameOver:S,changeNumOfMines:N,changeLives:B,changeSmiley:I,changeFlags:G,changeTime:_,placeMines:function(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.placeMines(e);case 2:return r=n.sent,t({type:"UPDATE_BOARD",gameBoard:r}),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},openAround:function(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.openAround(e);case 2:return r=n.sent,t({type:"UPDATE_BOARD",gameBoard:r}),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},showBombs:function(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.showBombs(e);case 2:return r=n.sent,t({type:"UPDATE_BOARD",gameBoard:r}),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},R=Object(M.b)((function(e){return Object(s.a)({},e)}),L)((function(e){var n=Object(M.c)((function(e){return e})),t=e.cell.cell,a=Object(r.useState)(null),c=Object(D.a)(a,2),u=c[0],s=c[1],i=Object(r.useState)(""),o=Object(D.a)(i,2),l=o[0],b=o[1],d=function(){var r=Object(m.a)(f.a.mark((function r(a){var c,i;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),!(t.flagInCell||t.cellClicked||n.gameOver)){r.next=3;break}return r.abrupt("return");case 3:if(n.gameOn||n.gameOver){r.next=11;break}return e.changeGameOn(!0),c={size:n.boardSize,numMines:n.numOfMines,row:t.row,column:t.column},r.next=8,e.placeMines(c);case 8:i=r.sent,t=H()(i[t.row][t.column]),e.updateCell(t);case 11:if(!t.mineInCell){r.next=33;break}if(u&&(clearTimeout(u),s(null)),!(n.lives>1)){r.next=21;break}return t.cellContents="\ud83d\udca3",e.changeLives(n.lives-1),e.updateCell(t),s(setTimeout((function(){n.gameOver||!n.gameOn||t.cellClicked||t.flagInCell||(t.cellContents="",e.updateCell(t),u=null)}),9e3)),r.abrupt("return");case 21:return u&&(clearTimeout(u),s(null)),e.changeLives(n.lives-1),e.changeGameOn(!1),e.changeGameOver(!0),r.next=27,e.showBombs(t);case 27:return t.cellContents="\ud83d\udca5",t.cellClicked=!0,e.updateCell(t),r.abrupt("return");case 31:r.next=34;break;case 33:t.minesAround?t.cellContents="".concat(t.minesAround):(t.cellContents="",e.openAround(t));case 34:t.cellClicked=!0,e.updateCell(t);case 36:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),O=function(){var r=Object(m.a)(f.a.mark((function r(a){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),u&&(clearTimeout(u),s(null)),!n.gameOver&&n.gameOn&&!t.cellClicked){r.next=6;break}return r.abrupt("return");case 6:if(!t.flagInCell){r.next=13;break}t.flagInCell=!1,t.cellContents="",e.changeFlags(n.numOfFlags+1),e.updateCell(t),r.next=20;break;case 13:if(t.flagInCell||!(n.numOfFlags>0)){r.next=20;break}return t.flagInCell=!0,t.cellContents="\ud83d\udea9",r.next=18,e.changeFlags(n.numOfFlags-1);case 18:return r.next=20,e.updateCell(t);case 20:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){if(n.numOfFlags>0)return!1;for(var e=0;e<n.boardSize;e++)for(var t=0;t<n.boardSize;t++)if(n.gameBoard[e][t].flagInCell&&!n.gameBoard[e][t].mineInCell||!n.gameBoard[e][t].flagInCell&&n.gameBoard[e][t].mineInCell)return!1;return!0})()&&(e.changeGameOn(!1),e.changeGameOver(!0),e.showBombs(t))}),[n.numOfFlags]),Object(r.useEffect)((function(){n.gameOn&&!n.gameOver||(u&&(clearTimeout(u),s(null)),function(){for(var e=0;e<n.boardSize;e++)for(var r=0;r<n.boardSize;r++)t.mineInCell&&t.flagInCell&&b("cell-green-background"),t.mineInCell&&!t.flagInCell&&b("cell-red-background"),!t.mineInCell&&t.flagInCell&&b("cell-blue-background"),t.mineInCell||t.flagInCell||b("")}())}),[n.gameOn,n.gameOver]),Object(T.jsx)("td",{className:"single-cell ".concat(t.cellClicked?"open":"closed"," ").concat(l),onClick:d,onContextMenu:O,children:t.cellContents})}));function P(e){return Object(T.jsx)("tr",{className:"single-row",children:e.row.map((function(e){return Object(T.jsx)(R,{cell:{cell:e}},e._id)}))})}var U,J={buildNewBoard:w},V=Object(M.b)((function(e){return Object(s.a)({},e)}),J)((function(e){var n=Object(M.c)((function(e){return e}));return Object(T.jsx)("div",{className:"game-board-container",onContextMenu:function(e){e.preventDefault()},children:Object(T.jsx)("table",{children:Object(T.jsx)("tbody",{children:n.gameBoard?n.gameBoard.map((function(e,n){return Object(T.jsx)(P,{row:e},n)})):Object(T.jsx)("tr",{})})})})}));var Z={changeTime:_},K=Object(M.b)((function(e){return Object(s.a)({},e)}),Z)((function(e){var n=Object(M.c)((function(e){return e})),t=Object(r.useState)({seconds:0,minutes:0,hours:0,hundreds:0}),a=Object(D.a)(t,2),c=a[0],u=a[1],s=Object(r.useState)("00:00:00"),i=Object(D.a)(s,2),o=i[0],l=i[1],f=function(){var n=c;n.seconds++,60===n.seconds&&(n.seconds=0,n.minutes++),60===n.minutes&&(n.minutes=0,n.hours++),100===n.hours&&(n.hours=0,n.hundreds++),u(n),l("".concat(c.hours<10?"0":"").concat(c.hours,":").concat(c.minutes<10?"0":"").concat(c.minutes,":").concat(c.seconds<10?"0":"").concat(c.seconds)),e.changeTime({time:c})};return Object(r.useEffect)((function(){n.gameOn&&void 0===U?U=setInterval(f,1e3):n.gameOn||void 0===U||(clearInterval(U),U=void 0)}),[n.gameOn]),Object(r.useEffect)((function(){u({seconds:0,minutes:0,hours:0,hundreds:0}),l("00:00:00")}),[n.zeroTimer]),Object(T.jsx)("div",{className:"game-timer",children:o})}));var Y={changeLives:B},q=Object(M.b)((function(e){return Object(s.a)({},e)}),Y)((function(e){var n=Object(M.c)((function(e){return e}));return Object(T.jsxs)("div",{className:"lives",onClick:function(){n.gameOn&&e.changeLives(1)},children:[Object(T.jsx)("div",{className:"heart",children:n.lives>1?"\ud83d\udc96":"\ud83d\udc94"}),Object(T.jsx)("div",{className:"extra-lives",children:n.lives>1?"0".concat(n.lives-1):"00"})]})}));var Q={changeSmiley:I},W=Object(M.b)((function(e){return Object(s.a)({},e)}),Q)((function(e){var n=Object(M.c)((function(e){return e})),t=n.smiley;return Object(T.jsx)("div",{className:"smiley",onClick:function(){return e.resetGame(n.boardSize)},children:Object(T.jsx)("span",{children:t})})}));var X={updateCell:y,changeBoardSize:E,buildNewBoard:w,changeGameOn:A,changeGameOver:S,changeNumOfMines:N,changeLives:B,changeSafeClicks:function(e){return function(){var n=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b._save("safeClicks",e);case 2:t({type:"CHANGE_SAFE_CLICKS",num:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},changeSmiley:I,changeFlags:G,changeTime:_},$=Object(M.b)((function(e){return Object(s.a)({},e)}),X)((function(e){var n=function(e){e.preventDefault()};return Object(T.jsxs)("div",{className:"change-difficulty",children:[Object(T.jsx)("button",{onClick:function(n){n.preventDefault(),e.resetGame(4)},onContextMenu:n,children:"Easy"}),Object(T.jsx)("button",{onClick:function(n){n.preventDefault(),e.resetGame(8)},onContextMenu:n,children:"Medium"}),Object(T.jsx)("button",{onClick:function(n){n.preventDefault(),e.resetGame(12)},onContextMenu:n,children:"Hard"})]})}));var ee={changeTime:_},ne=Object(M.b)((function(e){return Object(s.a)({},e)}),ee)((function(e){var n=Object(M.c)((function(e){return e.numOfFlags}));return Object(T.jsxs)("div",{className:"game-flags",children:[Object(T.jsx)("div",{className:"flag-icon",children:"\ud83d\udea9"}),Object(T.jsx)("div",{className:"num-of-flags",children:n<10?"0".concat(n):n})]})}));var te={changeBoardSize:E,buildNewBoard:w,changeGameOn:A,changeGameOver:S,changeNumOfMines:N,changeLives:B,changeSmiley:I,changeFlags:G,changeTime:_,zeroTimer:function(e){return function(n){n({type:"ZERO_TIMER",payload:e})}}},re=Object(M.b)((function(e){return Object(s.a)({},e)}),te)((function(e){var n=Object(M.c)((function(e){return e}));Object(r.useEffect)((function(){e.changeBoardSize(4),e.changeNumOfMines(2),e.changeGameOn(!1),e.changeGameOver(!1),e.changeLives(4),e.changeSmiley("\ud83d\ude42"),e.buildNewBoard(4),e.changeFlags(2),e.changeTime({}),e.zeroTimer(0)}),[]);var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.boardSize;e.changeBoardSize(t),e.changeNumOfMines(c(t)),e.changeGameOn(!1),e.changeGameOver(!1),e.changeLives(4),e.changeSmiley("\ud83d\ude42"),e.buildNewBoard(t),e.changeFlags(c(t)),e.changeTime({}),e.zeroTimer(a())},a=function(){return n.zeroTimer<=999?n.zeroTimer+1:0},c=function(e){switch(e){case 4:return 2;case 8:return 12;case 12:return 30;default:return n.numOfMines}};if(Object(r.useEffect)((function(){n.gameOver&&0===n.lives?e.changeSmiley("\ud83d\ude25"):n.gameOver&&n.lives>0&&e.changeSmiley("\ud83d\ude0e")}),[n.gameOver]),n)return Object(T.jsxs)("div",{className:"main-game-page",children:[Object(T.jsx)(z,{}),Object(T.jsxs)("div",{className:"game-area",children:[Object(T.jsxs)("div",{className:"game-sub-area",children:[Object(T.jsx)($,{resetGame:t}),Object(T.jsx)(K,{}),Object(T.jsxs)("div",{className:"lives-and-flags",children:[Object(T.jsx)(q,{}),Object(T.jsx)(ne,{})]})]}),Object(T.jsxs)("div",{className:"smiley-and-board",children:[Object(T.jsx)(W,{resetGame:t}),Object(T.jsx)(V,{})]})]})]})}));var ae={buildNewBoard:w},ce=Object(M.b)((function(e){return Object(s.a)({},e)}),ae)((function(e){return Object(T.jsx)(i.a,{children:Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(o.c,{children:Object(T.jsx)(o.a,{exact:!0,path:"/",element:Object(T.jsx)(re,{})})})})})})),ue=(t(34),t(14)),se={};var ie=t(19),oe=Object(ue.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"UPDATE_STATE":default:return e;case"UPDATE_BOARD":return Object(s.a)(Object(s.a)({},e),{},{gameBoard:n.gameBoard});case"CHANGE_SIZE":return Object(s.a)(Object(s.a)({},e),{},{boardSize:n.boardSize});case"CHANGE_GAME_ON":return Object(s.a)(Object(s.a)({},e),{},{gameOn:n.order});case"CHANGE_GAME_OVER":return Object(s.a)(Object(s.a)({},e),{},{gameOver:n.order});case"CHANGE_MINES":return Object(s.a)(Object(s.a)({},e),{},{numOfMines:n.numOfMines});case"CHANGE_LIVES":return Object(s.a)(Object(s.a)({},e),{},{lives:n.num});case"CHANGE_SAFE_CLICKS":return Object(s.a)(Object(s.a)({},e),{},{safeClicks:n.num});case"CHANGE_SMILEY":return Object(s.a)(Object(s.a)({},e),{},{smiley:n.order});case"CHANGE_FLAGS":return Object(s.a)(Object(s.a)({},e),{},{numOfFlags:n.order});case"CHANGE_TIME":return Object(s.a)(Object(s.a)({},e),{},{time:n.payload});case"ZERO_TIMER":return Object(s.a)(Object(s.a)({},e),{},{zeroTimer:n.payload})}}),Object(ue.a)(ie.a));u.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(M.a,{store:oe,children:Object(T.jsx)(ce,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3ae04522.chunk.js.map